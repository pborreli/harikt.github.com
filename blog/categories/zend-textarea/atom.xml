<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Zend_Textarea | Random thoughts | Hari KT]]></title>
  <link href="http://harikt.com/blog/categories/zend-textarea/atom.xml" rel="self"/>
  <link href="http://harikt.com/"/>
  <updated>2014-01-25T11:09:17+05:30</updated>
  <id>http://harikt.com/</id>
  <author>
    <name><![CDATA[Hari K T]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Add WYSIWYG Ckeditor to Zend_Textarea Element of Zend_Form]]></title>
    <link href="http://harikt.com/blog/2009/09/17/add-wysiwyg-ckeditor-zendtextarea-element-zendform/"/>
    <updated>2009-09-17T10:01:00+05:30</updated>
    <id>http://harikt.com/blog/2009/09/17/add-wysiwyg-ckeditor-zendtextarea-element-zendform</id>
    <content type="html"><![CDATA[<p>Adding a WYSIWYG editor to Zend_Textarea element of zend framework . I don&rsquo;t
know whether this is the right way to this . Anyway I would love to share the
piece of code to you . I am using the ckeditor the opensource WYSIWYG editor
which was previously called fckeditor. Ilove the new look of it than the tiny
mce . So switched to it <img src="http://www.harikt.com/sites/all/modules/fckeditor/%0Afckeditor/editor/images/smiley/msn/regular_smile.gif" alt="" /> .</p>

<p>Extract the files of ckeditor and upload to public folder . I am keeping this
in the /js/ckeditor .</p>

<p>Add the below piece of code to the layout . As we dont need to load the js of
the ckeditor every time we can add a flag.</p>

<pre><code>&lt;?php 
 if ( $this-&gt;ckeditor ) { 
  echo $this-&gt;headScript()-&gt;appendFile( $this-&gt;baseUrl().'/js/ckeditor/ckeditor.js');
 }
?&gt;
</code></pre>

<p>Now you need a helper . Keep the below code in
/application/views/helpers/SetupEditor.php .</p>

<pre><code>&lt;?php
class Zend_View_Helper_SetupEditor {

 function setupEditor( $textareaId ) {
 return "&lt;script type=\"text/javascript\"&gt;
 CKEDITOR.replace( '". $textareaId ."' );
  &lt;/script&gt;";
 }
}
?&gt;
</code></pre>

<p>I have used a baseUrl helper also . So if you are new I am keeping it for
those .</p>

<pre><code>&lt;?php
class Zend_View_Helper_BaseUrl {
 function baseUrl() {
 $fc = Zend_Controller_Front::getInstance();
 return $fc-&gt;getBaseUrl();
 }
}
?&gt;
</code></pre>

<p>Now you can include the small piece of code in the view script where you are
printing the form . For this eg: I am using the
application/views/scripts/index/edit.phtml</p>

<pre><code>&lt;?php
 $this-&gt;ckeditor = 'ckeditor'; //To tell the layout ckeditor must be loaded . 
?&gt;
&lt;h2&gt;Edit Post&lt;/h2&gt;
&lt;div&gt;&lt;?php echo $this-&gt;postForm; ?&gt;&lt;/div&gt;
&lt;!-- Description is the id of the textarea --&gt;
&lt;?php echo $this-&gt;setupEditor( 'Description' ); ?&gt;
</code></pre>

<p>You must know the name of the id of the textarea to pass to the setupEditor .
I have used the name Description when creating the textarea element . You must
have atleast tried the Zend framework quickstart to understand how it works .
I hope I have not missed any .</p>
]]></content>
  </entry>
  
</feed>
