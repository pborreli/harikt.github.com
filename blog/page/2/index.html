
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Random thoughts | Hari KT</title>
  <meta name="author" content="Hari K T">

  
  <meta name="description" content="A few days back I ran a contest to Win Free Copies of Packt’s New Book on
Zend Framework 2.0 by Example. So the lucky 3 are Nick Stanton
Kristopher &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://harikt.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/harikt/YKAJ" rel="alternate" title="Random thoughts | Hari KT" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-5998889-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Random thoughts | Hari KT</a></h1>
  
    <h2>On programming</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/harikt/YKAJ" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:harikt.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/who-am-i/">Who am I?</a></li>
  <li><a href="https://github.com/auraphp">Library/Framework</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/05/announcing-winners-of-the-contest/">Announcing Winners of the Contest</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-05T20:25:00+05:30" pubdate data-updated="true">Sep 5<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A few days back I ran a contest to Win Free Copies of Packt’s New Book on
<a href="http://harikt.com/blog/2013/08/23/chance-to-win-free-copies-of-packts-new-book-on-zend-framework-2-dot-0/">Zend Framework 2.0 by Example</a>.</p>

<p>So the lucky 3 are</p>

<ul>
<li>Nick Stanton</li>
<li>Kristopher Wilson</li>
<li>Dave Hall</li>
</ul>


<p>You may be having a question how I choose the winners.</p>

<p>What I did is created the list of people in an excel sheet and ran
the script.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">echo</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>There were 19 people who participated in the contest.
Dibin joseph was late and commented on Saturday August 31,
as the contest ended on 30th August 2013.</p>

<p>You can guess, why I opted to run such a script. Many of them are
known to me, and I don&rsquo;t want to do any partiality.</p>

<p>Congrats to the winners and I hope you will find the book interesting.</p>

<p>Thanks to all for actively participating, tweeting and promoting the
contest.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/23/chance-to-win-free-copies-of-packts-new-book-on-zend-framework-2-dot-0/">Chance to Win Free Copies of Packt’s New Book on Zend Framework 2.0</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-23T11:59:00+05:30" pubdate data-updated="true">Aug 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have teamed up with <a href="http://www.packtpub.com">Packt Publishing</a> to organize a contest
of its newly published book on
<a href="http://www.packtpub.com/zend-framework-2-0-by-example-beginners-guide/book">Zend Framework 2.0 by example</a></p>

<p>And 3 lucky winners stand a chance to win eBook copies of the book.
Keep reading to find out how you can be one of the Lucky Winners.</p>

<h2>Overview of the book</h2>

<ul>
<li><p> Master application development with Zend Framework 2.0</p></li>
<li><p> Learn about Zend Framework components and use them for functions such as searching, image
processing, and payment gateway integrations</p></li>
<li><p> Integrate third-party services for media sharing and payment processing</p></li>
</ul>


<h2>How to Enter ?</h2>

<p>All you need to do is head on over to the
<a href="http://www.packtpub.com/zend-framework-2-0-by-example-beginners-guide/book">book page</a>
and look through the product description of the book and drop a line via the
comments below this post to let us know what interests you the most about this book.
It’s that simple.</p>

<p>Deadline:The contest will close in 1 weeks time (ie 30th August 2013).
Winners will be contacted by email, so be sure to use your real email
address when you comment! Hurry up as you could be one of the few lucky
ones to get yourself a free ebook of the latest released title.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/12/connecting-to-magento-via-soap/">Connecting to Magento via SOAP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-12T14:12:00+05:30" pubdate data-updated="true">Jul 12<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my earlier post I have shown how you can connect to Magento
with REST api. In this post let us connect via SOAP.</p>

<p>The below class acts like a proxy to call the magento soap api.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * </span>
</span><span class='line'><span class="sd"> * @author Hari K T</span>
</span><span class='line'><span class="sd"> * </span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">My_Soap_Magento</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * Host name to connect</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @var string</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">protected</span> <span class="nv">$hostname</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * User name</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @var string</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">protected</span> <span class="nv">$username</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * API Key</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @var string</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">protected</span> <span class="nv">$apikey</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * Zend_Soap_Client</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @var Zend_Soap_Client</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">protected</span> <span class="nv">$client</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="nv">$session</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * Constructor</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param string $hostname The host name</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param string $username The user name of the host</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param string $apikey The apikey of the host</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$hostname</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$apikey</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">=</span> <span class="nv">$hostname</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">username</span> <span class="o">=</span> <span class="nv">$username</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">apikey</span>   <span class="o">=</span> <span class="nv">$apikey</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * Magic method, the methods are named on the basis of Magento SOAP api</span>
</span><span class='line'><span class="sd">     * You don&#39;t need to pass the session as the first argument, for convience.</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @link http://www.magentocommerce.com/api/soap/introduction.html</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param string $function</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param mixed $args</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @return string | null</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">__call</span><span class="p">(</span><span class="nv">$function</span><span class="p">,</span> <span class="nv">$args</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$session</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getSession</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$params</span> <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getSession</span><span class="p">()),</span> <span class="nv">$args</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$result</span> <span class="o">=</span> <span class="nb">call_user_func_array</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getClient</span><span class="p">(),</span> <span class="nv">$function</span><span class="p">),</span> <span class="nv">$params</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">// I need to get as json</span>
</span><span class='line'>            <span class="k">return</span> <span class="nx">Zend_Json_Encoder</span><span class="o">::</span><span class="na">encode</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * Get the session from logging in to the Magento server</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @return string</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getSession</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">login</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">username</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">apikey</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * If we already have a session, we can set the session so it don&#39;t </span>
</span><span class='line'><span class="sd">     * need to login again and get the session. This helps to reduce the </span>
</span><span class='line'><span class="sd">     * call for login . </span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @see getSession()</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param string $session</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @return IM_Soap_Magento</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setSession</span><span class="p">(</span><span class="nv">$session</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span> <span class="o">=</span> <span class="nv">$session</span><span class="p">;</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * Get the Zend_Soap_Client object</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @return Zend_Soap_Client</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getClient</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$endpoint</span>  <span class="o">=</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/api/v2_soap/?wsdl&#39;</span><span class="p">;</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Soap_Client</span><span class="p">(</span>
</span><span class='line'>                <span class="nv">$endpoint</span>
</span><span class='line'>            <span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In order to connect you want to create an object of the above
class <code>My_Soap_Magento</code>. You need to get the username and api key
from the magento host.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">My_Soap_Magento</span><span class="p">(</span>
</span><span class='line'>    <span class="s1">&#39;the-magento-host&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;username&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;apikey&#39;</span>
</span><span class='line'><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you are done! You can connect to the soap api version 2 of
Magento server.</p>

<p>Sample how to get the product information, category tree,
category information, products list etc are shown below.</p>

<p>See we are not passing the session parameter.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">echo</span> <span class="s2">&quot;Product Info&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$proxy</span><span class="o">-&gt;</span><span class="na">catalogProductInfo</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;Category Tree&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$proxy</span><span class="o">-&gt;</span><span class="na">catalogCategoryTree</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;Category Info&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$proxy</span><span class="o">-&gt;</span><span class="na">catalogCategoryInfo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Products List&#39;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$proxy</span><span class="o">-&gt;</span><span class="na">catalogProductList</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/12/a-word-about-tracy/">A Word About Tracy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-12T13:31:00+05:30" pubdate data-updated="true">Jul 12<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Tracy is a wonderful component from the
<a href="http://nette.org">nette framework project</a>.</p>

<p>I have been looking at tracy for a while. It has nice awesome panel for
you to dump and debug things.</p>

<p>Looking exceptions are handy.</p>

<p><img src="http://harikt.com/images/tracy.png" alt="Tracy Panel" /></p>

<h2>Installation</h2>

<p>It is easy to install with composer. So your composer.json will be
something like below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;minimum-stability&quot;</span><span class="o">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;require&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s2">&quot;tracy/tracy&quot;</span><span class="o">:</span> <span class="s2">&quot;dev-master&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>and finally run the <code>composer.phar update</code></p>

<h2>Enabling the Debugger</h2>

<p>In-order to enable the debugger, you need to add two lines.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">use</span> <span class="nx">Tracy\Debugger</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Debugger</span><span class="o">::</span><span class="na">enable</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Assuming you have already added a line <code>require_once 'path/to/vendor/autoload.php';</code></p></blockquote>

<h2>Dump Data</h2>

<p>There are a variety of options which you can dump data. Some of
them are to firebug, firelogger etc.</p>

<p>In this  I am interested to show you how to dump data to the
debug bar.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">Debugger</span><span class="o">::</span><span class="na">barDump</span><span class="p">(</span><span class="s1">&#39;Some SQL Query&#39;</span><span class="p">,</span> <span class="s1">&#39;SQL&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nx">Debugger</span><span class="o">::</span><span class="na">barDump</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bar&#39;</span><span class="p">),</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The panel is smart enough to understand and float
where it stayed when you last opened it.</p>

<p>Try it out guys!</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/09/the-book-on-aura/">The Book on Aura</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-09T06:55:00+05:30" pubdate data-updated="true">Jul 9<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There has been lot of requests to show how the individual packages
in aura, can be made use inside the framework.</p>

<p>So today I am happy to announce that there is a work in progress
to make the framework documentation better. I have already started
the work on the same.</p>

<p>You can <a href="http://auraphp.com/manuals/">read the chapters online</a>.</p>

<p>The examples used in the book are also online at<br/>
<a href="https://github.com/harikt/Example.Package">https://github.com/harikt/Example.Package</a></p>

<blockquote><p>I hope Something is better than nothing.</p></blockquote>

<h2>Question / Doubts</h2>

<p>Ask your question / doubts in
<a href="https://groups.google.com/forum/#!forum/auraphp">google groups</a></p>

<h2>Feedback</h2>

<p>I will be more happy to hear your feedback, critics, comments etc.
So do shout at me.</p>

<h2>Contributing</h2>

<p>If you interested in contributing to make it better, it is available
at <a href="https://github.com/auraphp/auraphp.github.com">https://github.com/auraphp/auraphp.github.com</a></p>

<p>Written in markdown. Still have hard time understanding things, create
an issue mentioning the problems you are facing.</p>

<h2>Thanks</h2>

<p>I would like to thank Paul M Jones for the awesome work he has done
on aura.</p>

<p>A special Thanks to <a href="https://github.com/jsurgeson">Jeff Surgeson</a> for
continously asking for the book.</p>

<p>Last but not the least, all who have motivated me to write a book.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/05/magento-and-rest-api/">Magento and REST Api</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-05T08:31:00+05:30" pubdate data-updated="true">Jul 5<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Magento provides both REST and SOAP api. In this post I would like to
concentrate on REST api to connect and get the products from magento shop.</p>

<p>First we want to register an Oauth consumer to get the consumer key and secret key.</p>

<p>Login to the admin of the magento shop and from the menu
<code>System-&gt;Web Services-&gt;REST - Oauth Consumers</code> and add a new Ouath consumer.</p>

<p><img src="http://harikt.com/images/oauth-consumer.png" alt="REST - Oauth Consumers" /></p>

<p>You need the Key and Secret which is what we pass in the config to
<code>Zend_Oauth_Consumer</code> shortly.</p>

<p>Let us also assign the right permissions for the attributes. From the menu
<code>System-&gt;Web Services-&gt;REST - Attributes</code> click on Admin and assign the right
permission. In our case we give access to products.</p>

<p><img src="http://harikt.com/images/magento_rest_attributes.png" alt="REST - Attributes" /></p>

<p>Now it is time to show you some code. In most case, we would have defined a
named route, and depeding upon your route in zend framework call the url.</p>

<p>Assuming the default url <code>http://localhost:8000/index/index</code> and accessing
this in your browser will redirect you to the magento shop and get the access token after
you authenticating and allowing it.</p>

<p>Note : Make sure that the domain you have logged in and the one
you have provided in the callback url of magento REST Oauth consumer are
same. Else you will find hard time debugging why session is lost.
(I am talking about the difference in <a href="http://www.example.com">http://www.example.com</a> and <a href="http://example.com">http://example.com</a>)</p>

<p>You want to change the below parameters in the controller according to yours.</p>

<p><code>$this-&gt;hostname</code>: The magento shop</p>

<p><code>$consumerKey</code>: The key you got when creating the oauth consumer</p>

<p><code>$consumerSecret</code>: The secret key you got when creating the oauth consumer</p>

<p><code>$callbackUrl</code>: The url where it will be redirected to get the accesstoken,
same as the one you have provided when creating the oauth consumer.</p>

<h2>Source Code</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">class</span> <span class="nc">IndexController</span> <span class="k">extends</span> <span class="nx">Zend_Controller_Action</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">init</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">=</span> <span class="s1">&#39;the-magento-host&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$consumerKey</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$consumerSecret</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$callbackUrl</span> <span class="o">=</span> <span class="s1">&#39;callback-url&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;callbackUrl&#39;</span> <span class="o">=&gt;</span> <span class="nv">$callbackUrl</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;requestTokenUrl&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">.</span> <span class="s1">&#39;/oauth/initiate&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;siteUrl&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">.</span> <span class="s1">&#39;/oauth&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;consumerKey&#39;</span> <span class="o">=&gt;</span> <span class="nv">$consumerKey</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;consumerSecret&#39;</span> <span class="o">=&gt;</span> <span class="nv">$consumerSecret</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;authorizeUrl&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">.</span> <span class="s1">&#39;/admin/oauth_authorize&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="c1">// &#39;authorizeUrl&#39; =&gt; $this-&gt;hostname . &#39;/oauth/authorize&#39;,</span>
</span><span class='line'>            <span class="s1">&#39;accessTokenUrl&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">.</span> <span class="s1">&#39;/oauth/token&#39;</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$accesssession</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Session_Namespace</span><span class="p">(</span><span class="s1">&#39;AccessToken&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$accesssession</span><span class="o">-&gt;</span><span class="na">accessToken</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$token</span> <span class="o">=</span> <span class="nb">unserialize</span><span class="p">(</span><span class="nv">$accesssession</span><span class="o">-&gt;</span><span class="na">accessToken</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">// $client = $token-&gt;getHttpClient($this-&gt;config);</span>
</span><span class='line'>            <span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Http_Client</span><span class="p">();</span>
</span><span class='line'>            <span class="nv">$adapter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Http_Client_Adapter_Curl</span><span class="p">();</span>
</span><span class='line'>            <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setAdapter</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$adapter</span><span class="o">-&gt;</span><span class="na">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>                <span class="s1">&#39;adapter&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;Zend_Http_Client_Adapter_Curl&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;curloptions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="nx">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">),</span>
</span><span class='line'>            <span class="p">));</span>
</span><span class='line'>            <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setUri</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hostname</span> <span class="o">.</span> <span class="s1">&#39;/api/rest/products&#39;</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setParameterGet</span><span class="p">(</span><span class="s1">&#39;oauth_token&#39;</span><span class="p">,</span> <span class="nv">$token</span><span class="o">-&gt;</span><span class="na">getToken</span><span class="p">());</span>
</span><span class='line'>            <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setParameterGet</span><span class="p">(</span><span class="s1">&#39;oauth_token_secret&#39;</span><span class="p">,</span> <span class="nv">$token</span><span class="o">-&gt;</span><span class="na">getTokenSecret</span><span class="p">());</span>
</span><span class='line'>            <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$products</span> <span class="o">=</span> <span class="nx">Zend_Json</span><span class="o">::</span><span class="na">decode</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">());</span>
</span><span class='line'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$consumer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Oauth_Consumer</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$token</span> <span class="o">=</span> <span class="nv">$consumer</span><span class="o">-&gt;</span><span class="na">getRequestToken</span><span class="p">();</span>
</span><span class='line'>            <span class="nv">$requestsession</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Session_Namespace</span><span class="p">(</span><span class="s1">&#39;RequestToken&#39;</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$requestsession</span><span class="o">-&gt;</span><span class="na">requestToken</span> <span class="o">=</span> <span class="nb">serialize</span><span class="p">(</span><span class="nv">$token</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$consumer</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">products</span> <span class="o">=</span> <span class="nv">$products</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">callbackAction</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$requestsession</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Session_Namespace</span><span class="p">(</span><span class="s1">&#39;RequestToken&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$requestsession</span><span class="o">-&gt;</span><span class="na">requestToken</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$accesssession</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Session_Namespace</span><span class="p">(</span><span class="s1">&#39;AccessToken&#39;</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$consumer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Oauth_Consumer</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$token</span> <span class="o">=</span> <span class="nv">$consumer</span><span class="o">-&gt;</span><span class="na">getAccessToken</span><span class="p">(</span>
</span><span class='line'>                <span class="nv">$_GET</span><span class="p">,</span>
</span><span class='line'>                <span class="nb">unserialize</span><span class="p">(</span><span class="nv">$requestsession</span><span class="o">-&gt;</span><span class="na">requestToken</span><span class="p">)</span>
</span><span class='line'>            <span class="p">);</span>
</span><span class='line'>            <span class="nv">$accesssession</span><span class="o">-&gt;</span><span class="na">accessToken</span> <span class="o">=</span> <span class="nb">serialize</span><span class="p">(</span><span class="nv">$token</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">// Now that we have an Access Token, we can discard the Request Token</span>
</span><span class='line'>            <span class="nb">unset</span><span class="p">(</span><span class="nv">$requestsession</span><span class="o">-&gt;</span><span class="na">requestToken</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">// $this-&gt;_redirect();</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_forward</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">// Mistaken request? Some malfeasant trying something?</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid callback request. Oops. Sorry.&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">callbackrejectedAction</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// rejected</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Normally you can get the http client by <code>$token-&gt;getHttpClient($this-&gt;config)</code>
rather than creating <code>Zend_Http_Client</code> as I did. But due to some issues
the request was getting <code>Service Temporarily Unavailable</code> as response.</p>

<p>The <code>Service Temporarily Unavailable</code> can also be due to permission issues.
You should also check whether you have given the right permissions for
roles and resources.</p>

<p>In most case, we would have defined a named route, so you could use the
url helpers to generate the route. I hope this helps you to move with REST
and Magento</p>

<h2>Resources</h2>

<p><a href="http://www.magentocommerce.com/api/rest/introduction.html">Magento REST API</a></p>

<p><a href="http://framework.zend.com/manual/1.12/en/zend.oauth.introduction.html">zend oauth introduction</a></p>

<h2>Thanks</h2>

<p>I would like to thank <a href="http://phpcloud.com">PHP Cloud</a> for providing the
free service to deploy the magento shop and test it. Installing and deploying app was super
simple. So if you have not tried it is time for it.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/21/a-sample-tutorial-package/">A Sample Tutorial Package</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-21T22:04:00+05:30" pubdate data-updated="true">Jun 21<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A sample application (still a WIP) to show a real world demo for the aura framework with Propel2.</p>

<p>Things can be done in an improved/advanced way and if you find something wrong create an issue or
consider giving a Pull Request.</p>

<p>The application is a blog tutorial. Hope this will help you to start with aura. Feel free to use your own orm
or Aura.Sql and build your own models.</p>

<h2>Installation</h2>

<h2>via zip</h2>

<p>Download the zip, unzip <code>Hari.Sample</code> and place it in the <code>package</code> folder.</p>

<h2>via git</h2>

<p>Move to package folder and clone the repo</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone https://github.com/harikt/Hari.Sample.git</span></code></pre></td></tr></table></div></figure>


<h2>via composer</h2>

<p>If you have not yet played with <code>aura</code> framework. Download the composer.phar file. I assume the <code>composer.phar</code> is
globally available in the name composer. Else use the path to the <code>composer.phar</code> according to yours.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>composer create-project --stability=dev aura/system sampleproject</span></code></pre></td></tr></table></div></figure>


<p>This will create a folder named <code>sampleproject</code> cloning the <a href="https://github.com/auraphp/system">https://github.com/auraphp/system</a> repo and downloading
the rest of the packages.</p>

<p>Move to the folder by</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd sampleproject</span></code></pre></td></tr></table></div></figure>


<p>Now let us install the <code>hari/sample</code> via composer.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"hari/sample": "dev-master"</span></code></pre></td></tr></table></div></figure>


<p>So your <code>composer.json</code> will look like</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>    "minimum-stability": "dev",
</span><span class='line'>    "require": {
</span><span class='line'>        "aura/installer-system" : "1.0.0",
</span><span class='line'>        "aura/framework"        : "dev-develop",
</span><span class='line'>        "aura/demo"             : "dev-develop",
</span><span class='line'>        "hari/sample"           : "dev-master"
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Let us run composer update and install the <code>hari/sample</code> package and its dependencies.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>composer update</span></code></pre></td></tr></table></div></figure>


<p>This will install <code>hari/sample</code> and also the dependency <code>propelorm</code> version 2.</p>

<h2>Building configuration</h2>

<p>Edit the <code>runtime-conf.xml</code> file located at <code>config</code> folder. Change the <code>database</code>, <code>username</code> and <code>password</code>
according to yours.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vendor/bin/propel config:convert-xml --output-dir=package/Hari.Sample/config --input-dir=package/Hari.Sample/config</span></code></pre></td></tr></table></div></figure>


<h2>Building sql</h2>

<p>Edit the <code>runtime-conf.xml</code> file located at <code>config</code> folder. Change the <code>database</code>, <code>username</code> and <code>password</code>
according to yours.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vendor/bin/propel sql:build --input-dir=package/Hari.Sample --output-dir=package/Hari.Sample/data</span></code></pre></td></tr></table></div></figure>


<h2>Propel model generation</h2>

<p>The model is generated by propel from the schema located at <code>package/Hari.Sample/schema.xml</code>.
The package already have the generated classes. If you want to re-generate the model classes
after modifying the schema run the command.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vendor/bin/propel model:build --input-dir=package/Hari.Sample --output-dir=package/Hari.Sample/src</span></code></pre></td></tr></table></div></figure>


<h2>Enabling the Package</h2>

<p>If you have installed <code>hari/sample</code> via <code>composer</code> then you can skip this step.
Else you need to edit the <code>config/_packages</code> and add <code>Hari.Sample</code> to the end of file.</p>

<p>Any troubles create an issue or ask in auraphp at googlegroups.com</p>

<h2>What is in it?</h2>

<p>Blog tutorial.</p>

<p>Register a user</p>

<p><img src="https://github.com/harikt/Hari.Sample/raw/master/web/img/register.png" alt="Register a user" /></p>

<p>Login to add posts</p>

<p><img src="https://github.com/harikt/Hari.Sample/raw/master/web/img/login.png" alt="Login as the user" /></p>

<p><img src="https://github.com/harikt/Hari.Sample/raw/master/web/img/add-post.png" alt="Add post" /></p>

<p>List all Posts</p>

<p><img src="https://github.com/harikt/Hari.Sample/raw/master/web/img/posts.png" alt="List all posts" /></p>

<p>Post has threaded comments.</p>

<p><img src="https://github.com/harikt/Hari.Sample/raw/master/web/img/comments.png" alt="Threaded comments" /></p>

<h2>Known problems</h2>

<p><a href="https://groups.google.com/d/msg/propel-users/x6PH_DwLtVE/H84o1cu4W4kJ">The edit post doesn&rsquo;t work</a>.</p>

<p>Comments Thread, probably not the right way to do with Propel? <a href="https://groups.google.com/d/msg/propel-users/d8p-nw_4x4A/YYpkcP-EqUkJ">Question here</a></p>

<p>and much more.</p>

<h2>Credits and Thanks</h2>

<p><a href="https://github.com/simensen">Beau Simensen</a>
<a href="https://github.com/pmjones">Paul M Jones</a></p>

<p><a href="http://auraphp.com">Aura Packages</a>
<a href="http://getcomposer.org">Composer</a>
<a href="http://propelorm.org">Propel</a>
<a href="http://symfony.com">Symfony</a></p>

<p>to all the people who motivated me to bring this sample application.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/04/aura-dot-web/">Aura.Web, Build Your Own Controller Class</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-04T07:47:00+05:30" pubdate data-updated="true">Jun 4<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you are new to the concept of MVC, or if you are planning to build your
own framework, probably Aura.Web help you to do the same.</p>

<p>Here is the article in phpmaster.com <a href="http://phpmaster.com/aura-web-auras-page-controller-for-mvc/">Aura.Web: Aura’s Page Controller for MVC</a>.</p>

<p>Probably you may also like the article <a href="http://phpmaster.com/web-routing-in-php-with-aura-router/">Web Routing in PHP with Aura.Router</a>.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/25/aura-system-released-beta5/">Aura System Released Beta5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-25T21:44:00+05:30" pubdate data-updated="true">May 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday Paul M Jones tagged the beta5 for the system repo.</p>

<p>So you can download the system from <a href="http://auraphp.com/system/downloads">http://auraphp.com/system/downloads/</a></p>

<h2>via composer</h2>

<p>Creating aura framework based projects has been made easy with composer. You can run</p>

<pre><code>php composer.phar create-project -s dev aura/system your-directory
</code></pre>

<p>What it does is almost similar to git clone and installing via git as below</p>

<p>via git</p>

<pre><code>git clone https://github.com/auraphp/system
cd system
php update.php
</code></pre>

<p>you can also skip php update.php with</p>

<pre><code>php composer.phar install
</code></pre>

<p>You can read some basic introduction from <a href="http://auraphp.com/system">http://auraphp.com/system/</a></p>

<p>NB : If you haven&rsquo;t heard about composer you can read it from <a href="http://getcomposer.org">getcomposer.org</a></p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/23/standalone-form-for-php/">Standalone Form for PHP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-23T07:03:00+05:30" pubdate data-updated="true">May 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday I wrote about <a href="http://harikt.com/blog/2013/05/21/standalone-forms-and-validation/">Standalone Forms and Validation</a>. It may need
a little bit knowledge on how the <a href="http://auraphp.com/packages">Aura.Filter</a> works. But that is
a good start if you want to know how you can integrate the pieces of Aura.</p>

<p>Today I think I need to show you the very minimal approach you can take
to build the form and validate your form. If you want to
use a powerful validation and filtering use something like <a href="http://auraphp.com/packages">Aura.Filter</a>
or bind your favourite components which does the validation <a href="https://github.com/Respect/Validation">Respect</a>, <a href="https://github.com/symfony/validator">Symfony2 Validator</a>,
<a href="https://github.com/vlucas/valitron">valitron</a> and filtering with something like <a href="https://github.com/rdohms/DMS-Filter">DMS-Filter</a>.</p>

<p>You can see how you can integrate with different components as I did with
<a href="http://auraphp.com/packages">Aura.Filter</a> in the example in master branch.</p>

<p>I assume you know a bit about <a href="http://getcomposer.org">composer</a> and how to install.</p>

<p>The <code>composer.json</code> file</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;minimum-stability&quot;</span><span class="o">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;require&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s2">&quot;aura/input&quot;</span><span class="o">:</span> <span class="s2">&quot;1.0.0-beta1&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;aura/view&quot;</span><span class="o">:</span> <span class="s2">&quot;1.1.2&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The page which you need to bring the form.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">Aura\Input\Builder</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">Aura\Input\Filter</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">Aura\Input\Form</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$loader</span> <span class="o">=</span> <span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/vendor/autoload.php&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">ContactForm</span> <span class="k">extends</span> <span class="nx">Form</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">init</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setField</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setAttribs</span><span class="p">([</span>
</span><span class='line'>                <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;maxlength&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>            <span class="p">]);</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setField</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setAttribs</span><span class="p">([</span>
</span><span class='line'>                <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;maxlength&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>            <span class="p">]);</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setField</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setAttribs</span><span class="p">([</span>
</span><span class='line'>                <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;maxlength&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>            <span class="p">]);</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setField</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;textarea&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setAttribs</span><span class="p">([</span>
</span><span class='line'>                <span class="s1">&#39;cols&#39;</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;rows&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
</span><span class='line'>            <span class="p">]);</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setField</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="s1">&#39;submit&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setAttribs</span><span class="p">([</span><span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;send&#39;</span><span class="p">]);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$filter</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getFilter</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setRule</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;name&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;Name must be alphabetic only.&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">return</span> <span class="nb">ctype_alpha</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setRule</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;Enter a valid email address&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="nb">filter_var</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nx">FILTER_VALIDATE_EMAIL</span><span class="p">);</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setRule</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;Enter a valid url&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="nb">filter_var</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nx">FILTER_VALIDATE_URL</span><span class="p">);</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setRule</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;Message should be more than 7 characters&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ContactForm</span><span class="p">(</span><span class="k">new</span> <span class="nx">Builder</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">Filter</span><span class="p">());</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$_POST</span> <span class="o">&amp;&amp;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;submit&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;send&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">fill</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//</span>
</span><span class='line'>        <span class="k">echo</span> <span class="s2">&quot;Yes successfully validated and filtered&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</span><span class='line'>        <span class="k">exit</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$helper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Aura\View\HelperLocator</span><span class="p">([</span>
</span><span class='line'>    <span class="s1">&#39;field&#39;</span>         <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Field</span><span class="p">(</span>
</span><span class='line'>            <span class="k">require</span> <span class="nb">dirname</span><span class="p">(</span><span class="nx">__DIR__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/vendor/aura/view/scripts/field_registry.php&#39;</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="s1">&#39;input&#39;</span>         <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Input</span><span class="p">(</span>
</span><span class='line'>            <span class="k">require</span> <span class="nb">dirname</span><span class="p">(</span><span class="nx">__DIR__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/vendor/aura/view/scripts/input_registry.php&#39;</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="s1">&#39;radios&#39;</span>        <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Radios</span><span class="p">(</span><span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Input\Checked</span><span class="p">);</span> <span class="p">},</span>
</span><span class='line'>    <span class="s1">&#39;repeat&#39;</span>         <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Repeat</span><span class="p">(</span>
</span><span class='line'>            <span class="k">require</span> <span class="nb">dirname</span><span class="p">(</span><span class="nx">__DIR__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/vendor/aura/view/scripts/repeat_registry.php&#39;</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="s1">&#39;select&#39;</span>        <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Select</span><span class="p">;</span> <span class="p">},</span>
</span><span class='line'>    <span class="s1">&#39;textarea&#39;</span>      <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">Aura\View\Helper\Form\Textarea</span><span class="p">;</span> <span class="p">},</span>
</span><span class='line'><span class="p">]);</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$field</span> <span class="o">=</span> <span class="nv">$helper</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">function</span> <span class="nf">showFieldErrors</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$errors</span> <span class="o">=</span> <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
</span><span class='line'>    <span class="nv">$str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nv">$errors</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$str</span> <span class="o">.=</span> <span class="s1">&#39;&lt;ul&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$str</span> <span class="o">.=</span> <span class="s1">&#39;&lt;li&gt;&#39;</span> <span class="o">.</span> <span class="nv">$error</span> <span class="o">.</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="nv">$str</span> <span class="o">.=</span> <span class="s1">&#39;&lt;/ul&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="nv">$str</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">&lt;html&gt;</span>
</span><span class='line'><span class="x">&lt;head&gt;</span>
</span><span class='line'><span class="x">    &lt;title&gt;Aura Form, to make it standalone&lt;/title&gt;</span>
</span><span class='line'><span class="x">&lt;/head&gt;</span>
</span><span class='line'><span class="x">&lt;body&gt;</span>
</span><span class='line'><span class="x">    &lt;form method=&quot;post&quot; action=&quot;&quot; enctype=&quot;multipart/form-data&quot; &gt;</span>
</span><span class='line'><span class="x">        &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;</span>
</span><span class='line'><span class="x">            &lt;tr&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;Name : &lt;/td&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nv">$field</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">));</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nx">showFieldErrors</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">);</span>
</span><span class='line'>                <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                &lt;/td&gt;</span>
</span><span class='line'><span class="x">            &lt;/tr&gt;</span>
</span><span class='line'><span class="x">            &lt;tr&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;Email : &lt;/td&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nv">$field</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">));</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nx">showFieldErrors</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">);</span>
</span><span class='line'>                <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                &lt;/td&gt;</span>
</span><span class='line'><span class="x">            &lt;/tr&gt;</span>
</span><span class='line'><span class="x">            &lt;tr&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;Url : &lt;/td&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nv">$field</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">));</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nx">showFieldErrors</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">);</span>
</span><span class='line'>                <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                &lt;/td&gt;</span>
</span><span class='line'><span class="x">            &lt;/tr&gt;</span>
</span><span class='line'><span class="x">            &lt;tr&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;Message : &lt;/td&gt;</span>
</span><span class='line'><span class="x">                &lt;td&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nv">$field</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">));</span>
</span><span class='line'>                    <span class="k">echo</span> <span class="nx">showFieldErrors</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span><span class="p">);</span>
</span><span class='line'>                <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                &lt;/td&gt;</span>
</span><span class='line'><span class="x">            &lt;/tr&gt;</span>
</span><span class='line'><span class="x">            &lt;tr&gt;</span>
</span><span class='line'><span class="x">                &lt;td colspan=&quot;2&quot;&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span>
</span><span class='line'>                <span class="k">echo</span> <span class="nv">$field</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">));</span>
</span><span class='line'>                <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                &lt;/td&gt;</span>
</span><span class='line'><span class="x">            &lt;/tr&gt;</span>
</span><span class='line'><span class="x">        &lt;/table&gt;</span>
</span><span class='line'><span class="x">    &lt;/form&gt;</span>
</span><span class='line'><span class="x">&lt;/body&gt;</span>
</span><span class='line'><span class="x">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s it. Pretty clear I guess. Still having trouble?
The whole code lies in the <a href="https://github.com/harikt/phpform/tree/minimalview">minimalview</a> branch of the <a href="https://github.com/harikt/phpform">phpform</a>.</p>
</div>
  
  

</article>

<nav id="pagenavi">
    
        <a href="/blog/" class="prev">Prev</a>
    
    
        <a href="/blog/page/3/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Hari K T -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'harikt';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
