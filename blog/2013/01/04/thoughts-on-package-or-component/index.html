
<!DOCTYPE HTML>
<!--
	Telephasic 1.1 by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Thoughts on Package/Component Structure - Random thoughts | Hari KT</title>        
        <meta name="author" content="Hari K T">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		
        <meta name="description" content="Comparing a software X with Y will not make anything worst, but makes it better. But many of them will think it as a promotional stuff. It is not &hellip;">
        
		<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,600" rel="stylesheet" type="text/css" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
        
        <link rel="canonical" href="http://harikt.com/blog/2013/01/04/thoughts-on-package-or-component">
		<script src="/js/jquery.min.js"></script>
		<script src="/js/jquery.dropotron.min.js"></script>
		<script src="/js/skel.min.js"></script>
		<script src="/js/skel-panels.min.js"></script>
		<script src="/js/init.js"></script>
    <link rel="stylesheet" href="/stylesheets/screen.css" />
		<noscript>
			<link rel="stylesheet" href="/css/skel-noscript.css" />
			<link rel="stylesheet" href="/css/style.css" />
			<link rel="stylesheet" href="/css/style-n1.css" />
		</noscript>
        <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

        
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-5998889-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


	</head>

<body  class="right-sidebar">
  <!-- Header Wrapper -->
  <div id="header-wrapper">
      <!-- Header -->
<div id="header" class="container">
    
    <!-- Logo -->
        <h1 id="logo"><a href="/">Home</a></h1>
    
    <!-- Nav -->
        <nav id="nav">
            <ul>
    <li>
        <a href="/blog">Blog</a>
        <ul>
            <li><a href="/blog/archives">Archives</a></li>
        </ul>
    </li>
    <li><a href="/work/">Work</a></li>
    <li class="break"><a href="/who-am-i/">About</a></li>
    <li><a href="/opensource/">Open source</a></li>
</ul>


        </nav>

</div>

      
  </div>
  <!-- Main Wrapper -->
  <div class="wrapper">
    <div class="container">
      <div class="row" id="main">
  <div class="8u">
    <!-- Content -->
    <article>
      
  <header>
          
      <h2>Thoughts on Package/Component Structure</h2>
    
    
      <span>
        








  


<time datetime="2013-01-04T06:15:00+05:30" pubdate data-updated="true">Jan 4<span>th</span>, 2013</time>
        
      </span>
    
  </header>


<div class="entry-content"><p>Comparing a software X with Y will not make anything worst, but makes it better. But many of them will think it as a promotional stuff. It is not anyones&rsquo;s problem. Some like to build it that way, some like the other way.</p>

<p>So I am not comparing X with Y here.</p>

<p>Not talking about package like Guzzle:</p>

<p>I am not mentioning building something like Guzzle, which is a framework that includes the tools needed to create a robust web service client.</p>

<p>But I am interested in talking about the packages which can be used to build something like Guzzle when you look into the require of composer.json.</p>

<p>That means something like Aura.Http which can be used to make a request to google and do the search if needed or post etc.</p>

<p>Structure of Package or Component:</p>

<p>1 ) We need to name a package.</p>

<p>Let us go for the <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md">PSR-0</a> naming.</p>

<p>Each namespace must have a top-level namespace (&ldquo;Vendor Name&rdquo;), and a Package name. Probably you will end up with Vendor.Package or Vendor_Package .</p>

<p>2 ) <a href="http://getcomposer.org/">Composer</a>/<a href="https://github.com/crodas/Eath">Eath</a>, are great tools which help you to manage the dependency management in your PHP projects. So we need a composer.json or package.yml .</p>

<p>3 ) We are creating a package or component, so obviously it will contain source files and test files. It will be a mess when we keep all tests and source files in a same place. Most of them uses either <code>src</code> folder or <code>lib</code> or <code>library</code> to keep source files and <code>tests</code> to keep test files. Probably you have some documentation, a <code>docs</code> folder may help. May be some executable scripts. You can also add a <code>scripts</code> or <code>bin</code> folder.</p>

<p>Now your structure will be something like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Vendor.Package
</span><span class='line'>  ├── composer.json
</span><span class='line'>  ├── package.yml
</span><span class='line'>  ├── docs
</span><span class='line'>  ├── src
</span><span class='line'>  │   └── Vendor
</span><span class='line'>  │       └── Package
</span><span class='line'>  └── tests
</span><span class='line'>      └── Vendor
</span><span class='line'>          └── Package
</span></code></pre></td></tr></table></div></figure>


<p>The above structure follows a PSR-0 naming convention for package/component.</p>

<p>NIH : We all create new packages for we don&rsquo;t like some other package invented here, not for its not invented here or probably to make use of newer stuffs like traits, closures etc available in PHP 5.4 than sticking with PHP 5 or sometimes it is not inveneted here.</p>

<p>So add your depenedencies to composer.json or package.yml</p>

<p>Let us assume we are going to create a Validation pacakge. Probably you love annotations or yml format. It is always a better idea to keep the annotations, yaml etc on a bridge than in the Validation package. Remember you have composer, let the bridge package composer.json helps you to download validation package, annotation library. This also helps you to write your integration tests in bridge package than making a dependency on the Validation package.</p>

<p>And also help people to use different annotations library than a single one or you will end up messing with more annotation classes.</p>

<p>I guess this helps people to</p>

<p>1 ) fork and contribute</p>

<p>2 ) Even if there is no documentation, it helps to look into the source and get the point. Else a lot of classes confuses people.</p>

<p>Nothing is developed to make it bad, everything is made for good. Though at-times it acts badly.</p>

<p>These are some of the principles I learned looking at various projects like Aura, Symfony2, ZF2, Lithium, Fuel2, Illuminate&hellip; you name it.</p>
</div>


    </article>
    <div>
      <p class="meta">
        
  

<span class="byline author vcard">Posted by <span class="fn">Hari K T</span></span>

        








  


<time datetime="2013-01-04T06:15:00+05:30" pubdate data-updated="true">Jan 4<span>th</span>, 2013</time>
        

<span class="categories">
  
    <a class='category' href='/blog/categories/component/'>component</a>, <a class='category' href='/blog/categories/package/'>package</a>
  
</span>


      </p>
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://harikt.com/blog/2013/01/04/thoughts-on-package-or-component/" data-via="harikt" data-counturl="http://harikt.com/blog/2013/01/04/thoughts-on-package-or-component/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

            
    </div>
    <div>
      
        <section>
          <h3>Comments</h3>
          <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        </section>
      
    </div>
    <div class="pagination">
        
          <a class="prev" href="/blog/2012/12/18/aura-framework-releases-beta4/" title="Previous Post: Aura Framework releases Beta4">&laquo; Aura Framework releases Beta4</a>
        
        
          <a class="next" href="/blog/2013/01/09/our-awesome-php-people/" title="Next Post: Our awesome php people">Our awesome php people &raquo;</a>
        
      </div>
  </div>
  <div class="4u">
    <!-- Sidebar -->
    <section id="sidebar">
    
      <section>
	<a href="/who-am-i/" class="image full">
    <img src="https://1.gravatar.com/avatar/895c943fbd5beb697f6c2d7bf0c3b279?s=300" />
  </a>
  <header>
    <h3>About Hari</h3>
  </header>
	<p>      
      I am <a href="/who-am-i/">Hari KT</a> a freelance PHP developer from India.        
      Breath open-source and contributes to <a href="http://auraphp.com">aura project</a>.
	</p>
  <ul class="actions">
    <li><a class="button" href="/who-am-i/">Know more</a></li>
  </ul>
</section>
<section>
  <h2>Recent Posts</h2>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/05/29/hidden-gems-of-composer/">Hidden Gems of Composer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/13/extending-plates-with-aura-html-helpers/">Extending Plates With Aura Html Helpers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/29/installing-aura-framework-project-via-composer/">Installing Aura Framework Project via Composer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/29/installing-aura-cli-project-via-composer/">Installing Aura Cli Project via Composer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/29/installing-aura-web-project-via-composer/">Installing Aura Web Project via Composer</a>
      </li>
    
  </ul>
</section>

<section>
  <header>
    <h3>GitHub Repos</h3>
  </header>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/harikt">@harikt</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'harikt',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/js/github.js" type="text/javascript"> </script>
</section>





    
    </section>
  </div>
</div>

    </div>
  </div>
  <!-- Footer Wrapper -->
  <div id="footer-wrapper">
    <!-- Footer -->
<div id="footer" class="container">
  <header class="major">
    <h2>Socialized</h2>
    <span>I also live at other places in the internet. Some of them are given below</span>
  </header>
  <div class="row">
    <section class="6u">
      <div class="row no-collapse-1">
        <ul class="divided icons 6u">          
          <li class="fa fa-github"><a href="https://github.com/harikt"><span class="extra">github.com/</span>harikt</a></li>
          <li class="fa fa-twitter"><a href="http://twitter.com/harikt"><span class="extra">twitter.com/</span>harikt</a></li>          
        </ul>
        <ul class="divided icons 6u">
          <li class="fa fa-linkedin"><a href="http://linkedin.com/in/harikt"><span class="extra">linkedin.com/in/</span>harikt</a></li>          
        </ul>
      </div>
    </section>
    <section class="6u">
      <div class="row no-collapse-1">
        <ul class="divided icons 6u">          
          <li class="fa fa-facebook"><a href="https://facebook.com/harikt"><span class="extra">facebook.com/</span>harikt</a></li>
        </ul>
        <ul class="divided icons 6u">          
          <li class="fa fa-youtube"><a href="http://www.youtube.com/user/kthari85"><span class="extra">youtube.com/</span>kthari85</a></li>          
        </ul>
      </div>
    </section>
  </div>
</div>

<!-- Copyright -->
<div id="copyright" class="container">
  <ul class="menu">
    <li>&copy; 2014 - Hari K T</li>
    <li>Design: <a href="http://html5up.net/">HTML5 UP</a></li>
    <li>Powered by <a href="http://octopress.org">Octopress</a></li>
  </ul>
</div>


  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'harikt';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://harikt.com/blog/2013/01/04/thoughts-on-package-or-component/';
        var disqus_url = 'http://harikt.com/blog/2013/01/04/thoughts-on-package-or-component/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
